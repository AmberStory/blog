---
title: code complete
date: 2019-12-10 10:20:02
tags: coding
---
## 选择好的变量名
> 变量命名时最重要的考虑事项是，该名字要能够完全准确的描述出该变量所代表的事物。尽量不要使用让人看不懂的缩写。因为他是对事物的完整描述，所以不会和其他事物混淆。
* 完整的描述变量名
表示“当前日期”的变量名可以命名为：currentDate，表示“中国奥林匹克代表团队成员数量”的变量，可以命名为：numberOfPeopleOnTheChinaOlympicTeam。
* 选择适当长度的变量名
有的时候命名过长也会带来麻烦，研究数据表明，变量名的平均长度在10到16个字符的时候，调试程序所花费的气力最小。比如上述表示“中国奥林匹克代表团队成员数量”的变量可以表示成teamMemberCount。
* 变量名中的计算值
比如total、average、num等变量，命名的时候可以带上具体点的含义，并且放在前面这些变量之前，比如gradeTotal、gradeAverage、gradeNum，这样一眼就可以看出他们的规律性，但是反之则不行。
* 为循环下标命名
i、j、k这些简单的名字只适合于简单、单一的循环体中，如果是嵌套循环的话，建议其更有含义的名称，既可以避免使用的时候将变量名写混淆，也可以时访问的时候读起来更清晰其中的含义。
* 为状态命名
例如：reportType === ReportType_Annual，不要使用flag这样的词直接命名。
* 标识全局变量
可以在全局变量签名加上“g_”以作区分。
* 标识只读变量
可以在变量前带上“const”前缀。
* Boolean类型的变量命名
给Boolean类型的变量命名时，需要包含“真/假”含义，比如：done、success、ok、found，尽量不要使用否定的名字，比如fail。如果是需要判断一些状态，比如是否处于edit状态，可以定义成statusEdit。
* 使用标准化前缀
参考以下示例：
doc：表示文档
ch：表示字符
pa：表示段落paragraph
scr：表示屏幕区域
sel：表示选中范围selection
wn：表示窗体
c：表示数量
g：表示全局
i：表示数组下标
这样我们在表示段落总数的时候可以表示成cpa，并且我们在作一些判断的时候，比如paFormat === docFormat就能清楚的发现有问题，因为pa和doc不是同一个标准。
* 制作一个数字字典
将所有用到的缩写记录在字典里，方便查阅，也为了避免同一个意思的单词被缩写成多种样式。

## 软件构建中的设计
* 最小的复杂度
避免做“聪明的”设计，因为“聪明的”设计往往令人难以理解。我们需要的是简单且易于理解的设计，也更方便后续其他程序员维护。
* 分解子系统
子系统之间需要限制通信规则，尽量保证在移除或者新增一个子系统的时候，牵扯到的其他系统越少越好。如果还不确定如何限制子程序间的通信，可以先对他们加以限制，日后需要的时候在放松，这样要比已经有上百个系统调用的时候再限制容易得多。
系统层设计图应该是无循环的，即应该避免这样的情况：A类使用了B类，B类使用了C类，而C类又使用了A类。
* 记录设计成果
1. 可以将关键决策记录在代码注释里；
1. 用wiki记录设计讨论决策；
1. 写总结邮件；